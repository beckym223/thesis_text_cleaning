One way in which it becomes apparent that this kind of marketplace for doctors,
and indeed the whole market for doctors, is part of a much larger labor market is
in the changing demographics of the medical labor force. In the 1950s, almost all graduates of American medical schools were men, and today the graduates are quite equally divided between women and men. One consequence of that change has been a steadily increasing number of couples graduating from medical school together and seeking two jobs, not one. A clearinghouse in which each individual submitted a rank order list meant to represent his or her individual preferences didn’t work for couples.
55 But in the presence of couples who submit preference lists ranking pairs
of positions, stable matches are not guaranteed to always exist (Roth 1984).
It was thus apparent to me, when I agreed in 1995 to direct a redesign of the res-
ident match, that market design was going to require answers to different questions than had so far been asked. Instead of being satisfied with theorems indicating that stable matchings always exist in simple matching problems, but might sometimes fail to exist when couples (or other instances of complementary preferences) were present, it was going to be important to know, for example, how often stable match-ings might fail to exist when couples are in the market.
56 The algorithm we designed
to meet the changing needs of the medical match (Roth and Peranson 1999) allowed us to show empirically not only that the set of stable matches was small, but also that it was virtually never empty. As is often the case in market design, this empir -
ical observation, which enabled the Roth-Peranson algorithm to be implemented with confidence (albeit with a check of the final stability of the outcome), preceded and eventually inspired the theoretical work that has begun to explain why stable matchings involving couples can be found in large markets (see Kojima, Pathak, and Roth 2013, and Ashlagi, Braverman, and Hassidim 2014). Today dozens of medical and healthcare marketplaces use centralized clearinghouses that employ the Roth-Peranson algorithm, and there are a number of clearinghouses that do not deal with couples and use other variants of the deferred acceptance algorithm.
57
that market uses a centralized clearinghouse that employs the Roth-Peranson (1999) version of the deferred accep-
tance algorithm that also handles couples, as described next.

55 The first attempt to deal with couples, in the 1970s, had them each submit an individual rank order list, and
designate one member of the couple as the “leading member.” That person then went through the match, after which the other couple member followed, with his or her rank order list edited to remove jobs not in the same city as the job obtained by his or her spouse. While this often produced two jobs in the same city, it was increasingly the case that couples didn’t take these jobs, but found ways to arrange two jobs that they preferred, outside of the match. The issue is that couples have preferences over pairs of jobs, and the procedure above was likely to give them two jobs without regard to whether they would have preferred two different jobs. (And the iron law of marriage says that you can’t be happier than your spouse, so a couple with one good job and one mediocre job has a lot of incentive to seek out two good jobs, and their strategy sets were big enough so that they could do so.)

56 Kelso and Crawford (1982) were the first that I know of to emphasize the absence of complementarities (i.e.,
substitutability) in standard matching theory, and while preferences that don’t involve complementarities are often a very useful approximation in applications, complementarities can easily arise, e.g., as a result of budget constraints (Mongell and Roth 1986).

57 A high level flowchart of the Roth-Peranson algorithm is in the postscript to Roth (2013, p. 38). National
Matching Services, Inc., founded by Elliott Peranson, directly runs eight matches and supports a number of oth-ers (https://www.natmatch.com/clients.html). In addition to the resident match (the National Resident Matching
Program, http://www.nrmp.org/), the NRMP organization runs another 26 fellowship matches (http://www.nrmp.org/participating-fellowships/) as well as the Medical Specialties Matching Program (MSMP) Fellowship Match which runs another 14 subspecialty matches (http://www.nrmp.org/fellowships/medical-specialties-matching-pro-gram/), all using the Roth-Peranson algorithm. Another organization, the SF Match, runs another two dozen fel-lowship matches, as well as residency matches in ophthalmology and plastic surgery (https://www.sfmatch.org/Specialty.aspx) and these appear to use another variant of a deferred acceptance algorithm, as do matches run in podiatry and urology. There are a number of medical matches in Britain that use deferred acceptance
algorithms